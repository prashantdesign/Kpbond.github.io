<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rose Day for Khushi ğŸŒ¹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;900&family=Bungee&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background: #000;
            color: white;
            overflow: hidden;
            touch-action: manipulation;
        }
        .meme-font { font-family: 'Bungee', cursive; }
        
        .step {
            display: none;
            height: 100vh;
            width: 100vw;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            position: absolute;
            top: 0; left: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .step.active { display: flex; animation: slideIn 0.5s forwards; }

        @keyframes slideIn {
            from { opacity: 0; transform: scale(0.8) translateY(50px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .meme-card {
            background: #fff;
            color: #000;
            border: 5px solid #000;
            box-shadow: 10px 10px 0px #e11d48;
            padding: 1.5rem;
            width: 90%;
            max-width: 350px;
        }

        .btn-main {
            background: #e11d48;
            color: white;
            padding: 1.2rem 2.5rem;
            border: 4px solid #000;
            box-shadow: 5px 5px 0px #fff;
            font-family: 'Bungee';
            font-size: 1.2rem;
            transition: 0.1s;
        }
        .btn-main:active { transform: translate(3px, 3px); box-shadow: 0px 0px 0px #fff; }

        .emoji-float {
            position: absolute;
            pointer-events: none;
            z-index: 100;
            animation: floatUp 1.2s ease-out forwards;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-400px) scale(3) rotate(45deg); opacity: 0; }
        }

        .progress-bar {
            position: fixed;
            top: 0; left: 0;
            height: 10px;
            background: #e11d48;
            transition: width 0.4s ease;
            z-index: 1000;
        }

        #music-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            color: black;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
            border: 2px solid #e11d48;
            z-index: 2000;
        }
    </style>
</head>
<body>

    <div class="progress-bar" id="progress"></div>
    <div id="music-status">ğŸ”Š Audio: Waiting</div>

    <!-- AUDIO SYSTEM - Using very reliable URLs -->
    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>
    <audio id="sfx-pop"><source src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
    <audio id="sfx-win"><source src="https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3"></audio>
    <audio id="sfx-laugh"><source src="https://assets.mixkit.co/active_storage/sfx/2802/2802-preview.mp3"></audio>
    <audio id="sfx-cheer"><source src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

    <!-- STEP 1: AUDIO UNLOCKER -->
    <div class="step active bg-rose-600" id="step1">
        <div class="text-7xl mb-6">ğŸ“¢</div>
        <div class="meme-card text-center rotate-2 mb-8">
            <h1 class="meme-font text-2xl">WAIT!</h1>
            <p class="font-bold mt-2">Prashant's surprise has music & vibes. Turn up the volume!</p>
        </div>
        <button onclick="unlockAudio()" class="btn-main animate-bounce">
            ğŸ”Š TAP TO UNMUTE & START
        </button>
    </div>

    <!-- STEP 2: WELCOME -->
    <div class="step bg-indigo-700" id="step2">
        <div class="meme-card -rotate-2">
            <h1 class="meme-font text-2xl">Hello Khushi!</h1>
            <p class="mt-4 font-black italic">Taiyaar ho for the most "Cringe + Cute" journey of your life? ğŸ˜‚â¤ï¸</p>
        </div>
        <button onclick="nextStep(3)" class="btn-main mt-10">YES, SHOW ME!</button>
    </div>

    <!-- STEP 3: SECURITY CHECK -->
    <div class="step bg-yellow-400" id="step3">
        <h1 class="meme-font text-3xl text-black mb-8">Security Check!</h1>
        <p class="text-black font-bold mb-6">Are you the one Prashant dreams about?</p>
        <div class="flex flex-col gap-4 w-full px-10">
            <button onclick="nextStep(4); playSound('win')" class="btn-main bg-green-500">YES, I'M THE QUEEN ğŸ‘‘</button>
            <button id="no-btn" onmouseover="moveButton(this)" ontouchstart="moveButton(this)" onclick="playSound('laugh')" class="bg-gray-200 border-4 border-black p-4 text-black font-bold">NO, I'M A STRANGER ğŸ•µï¸â€â™€ï¸</button>
        </div>
    </div>

    <!-- STEP 4: CURRENT VIBE -->
    <div class="step bg-purple-600" id="step4">
        <h1 class="meme-font text-2xl text-center px-6">Current Vibe Kya Hai?</h1>
        <div class="grid grid-cols-2 gap-4 mt-8 w-full max-w-xs">
            <button onclick="nextStep(5)" class="bg-white text-black p-4 border-4 border-black font-black">CUTE ğŸ˜Š</button>
            <button onclick="nextStep(5)" class="bg-white text-black p-4 border-4 border-black font-black">NAKHRE ğŸ™„</button>
            <button onclick="nextStep(5)" class="bg-white text-black p-4 border-4 border-black font-black">MISSING HIM â¤ï¸</button>
            <button onclick="nextStep(5)" class="bg-white text-black p-4 border-4 border-black font-black">BHUK LAGI HAI ğŸ•</button>
        </div>
    </div>

    <!-- STEP 5: COMPLIMENT -->
    <div class="step bg-pink-500" id="step5">
        <div class="meme-card rotate-1">
            <p id="comp-text" class="text-xl font-black italic text-black text-center">"Khushi, tumhare smile ke aage toh Google ki ratings bhi fail hain!"</p>
        </div>
        <div class="flex flex-col gap-4 mt-12">
            <button onclick="shuffleComp()" class="bg-black text-white px-6 py-2 rounded-xl text-xs font-bold uppercase tracking-widest">More Makhan? ğŸ§ˆ</button>
            <button onclick="nextStep(6)" class="btn-main bg-white text-black">BAS BAS, NEXT! ğŸ¤£</button>
        </div>
    </div>

    <!-- STEP 6: BEAUTY SLIDER -->
    <div class="step bg-blue-500" id="step5">
        <h1 class="meme-font text-2xl text-center mb-10 px-6">Rate your beauty out of 10:</h1>
        <div class="w-full px-10">
            <input type="range" min="1" max="11" value="1" class="w-full h-8" oninput="updateScore(this.value)">
            <h1 id="score-val" class="text-9xl font-black text-center mt-6">1</h1>
            <p id="score-msg" class="text-center font-bold mt-4 italic">Kam hai... aur badhao!</p>
        </div>
        <button id="step5-btn" onclick="nextStep(7)" class="btn-main mt-10 hidden">BEYOND SCALE! ğŸš€</button>
    </div>

    <!-- STEP 7: MINI GAME -->
    <div class="step bg-emerald-700" id="step6">
        <h1 class="meme-font text-xl mb-4 text-center">CATCH 10 ROSES FROM PRASHANT! ğŸŒ¹</h1>
        <div id="game-zone" class="w-full h-64 border-8 border-black rounded-3xl relative overflow-hidden bg-black/50" onclick="catchRose(event)">
            <div id="game-score" class="absolute top-2 left-4 font-black text-2xl z-20">SCORE: 0</div>
            <div class="absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none text-2xl font-black">TAP HERE! ğŸŒ¹</div>
        </div>
        <button id="step6-btn" onclick="nextStep(8); playSound('win')" class="btn-main mt-6 hidden">OP! NEXT â†’</button>
    </div>

    <!-- STEP 8: QUIZ -->
    <div class="step bg-orange-500" id="step7">
        <h1 class="meme-font text-2xl text-center mb-8 px-6">Sabse zyada pyar kaun karta hai?</h1>
        <div class="flex flex-col gap-4 w-full px-10 max-w-md">
            <button onclick="nextStep(9)" class="bg-white text-black p-4 border-4 border-black font-black uppercase">A) Shah Rukh Khan</button>
            <button onclick="nextStep(9)" class="bg-white text-black p-4 border-4 border-black font-black uppercase">B) Prashant (Obviously) â¤ï¸</button>
            <button onclick="nextStep(9)" class="bg-white text-black p-4 border-4 border-black font-black uppercase">C) Your Teddy Bear</button>
            <button onclick="nextStep(9)" class="bg-white text-black p-4 border-4 border-black font-black uppercase">D) All of the above! âœ…</button>
        </div>
    </div>

    <!-- STEP 9: TRUTH -->
    <div class="step bg-red-600" id="step8">
        <div class="text-8xl mb-6">ğŸŒ¹</div>
        <div class="meme-card -rotate-1">
            <h1 class="meme-font text-xl text-black">MESSAGE FOR KHUSHI:</h1>
            <p class="mt-4 font-bold text-black leading-tight">
                "Roses are red, <br>
                Violets are blue... <br>
                Main bahut lucky hoon, <br>
                To have someone like YOU!"
            </p>
        </div>
        <button onclick="nextStep(10)" class="btn-main mt-10">LAST STEP! ğŸ¥º</button>
    </div>

    <!-- STEP 10: FINALE -->
    <div class="step bg-black" id="step10">
        <div id="confetti" class="absolute inset-0 pointer-events-none"></div>
        <div class="text-9xl mb-4 animate-bounce">ğŸŒ¹</div>
        <h1 class="meme-font text-5xl text-rose-500 text-center leading-none">HAPPY<br>ROSE DAY<br>KHUSHI!</h1>
        
        <div class="meme-card mt-10 rotate-2 text-black text-center">
            <p class="font-black text-lg">"Prashant loves you more than anything! ğŸ’–âœ¨"</p>
        </div>
        
        <button onclick="location.reload()" class="mt-12 text-gray-500 text-xs uppercase tracking-widest">Restart Journey</button>
    </div>

    <script>
        let currentStep = 1;
        let rosesCaught = 0;
        let totalSteps = 10;
        let audioContextUnlocked = false;

        const bgMusic = document.getElementById('bg-music');
        const musicStatus = document.getElementById('music-status');

        function unlockAudio() {
            // This is the magic part for browsers
            bgMusic.play().then(() => {
                bgMusic.volume = 0.4;
                audioContextUnlocked = true;
                musicStatus.innerText = "ğŸ”Š Audio: ON";
                nextStep(2);
            }).catch(err => {
                console.log("Audio still blocked", err);
                // Fallback: Continue without music but keep trying
                nextStep(2);
            });
        }

        function playSound(id) {
            const sound = document.getElementById('sfx-' + id);
            if(sound) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log("SFX blocked"));
            }
        }

        function nextStep(n) {
            document.getElementById(`step${currentStep}`).classList.remove('active');
            currentStep = n;
            document.getElementById(`step${currentStep}`).classList.add('active');
            document.getElementById('progress').style.width = (n/totalSteps * 100) + '%';
            
            // Try to force music if it didn't start
            if(currentStep > 1 && bgMusic.paused) {
                bgMusic.play().catch(e => {});
            }

            playSound('pop');
            if(n === 10) {
                playSound('cheer');
                startConfetti();
            }
        }

        function spawnEmoji(emoji, x, y) {
            const e = document.createElement('div');
            e.className = 'emoji-float text-6xl';
            e.innerText = emoji;
            e.style.left = (x || Math.random() * 80 + 10) + '%';
            e.style.top = (y || 70) + '%';
            document.body.appendChild(e);
            setTimeout(() => e.remove(), 1200);
        }

        function moveButton(btn) {
            btn.style.position = 'absolute';
            btn.style.left = Math.random() * 60 + 10 + '%';
            btn.style.top = Math.random() * 60 + 10 + '%';
            playSound('pop');
        }

        const compliments = [
            "Khushi, tumhare smile ke aage filter fail hain! âœ¨",
            "Roses are red, your DP is fire! ğŸ”¥",
            "Suno! Zyada cute mat bano, varna nazar lag jayegi! ğŸ˜‰",
            "If being beautiful was a crime, you'd be in jail! ğŸš”",
            "Prashant + Khushi = Best Jodi Ever! ğŸ’‘"
        ];

        function shuffleComp() {
            document.getElementById('comp-text').innerText = compliments[Math.floor(Math.random()*compliments.length)];
            spawnEmoji('â¤ï¸');
            playSound('pop');
        }

        function updateScore(v) {
            const val = document.getElementById('score-val');
            const msg = document.getElementById('score-msg');
            const btn = document.getElementById('step5-btn');
            val.innerText = v;
            
            if(v < 5) msg.innerText = "Koshish karo... ğŸ™„";
            else if(v < 11) msg.innerText = "Higher! Aur higher!";
            else {
                val.innerText = "11/10";
                msg.innerText = "PERFECT! ğŸ”¥ğŸ‘‘";
                btn.classList.remove('hidden');
                spawnEmoji('ğŸ‘‘');
                playSound('win');
            }
        }

        function catchRose(e) {
            rosesCaught++;
            document.getElementById('game-score').innerText = `SCORE: ${rosesCaught}`;
            spawnEmoji('ğŸŒ¹', (e.clientX/window.innerWidth)*100, (e.clientY/window.innerHeight)*100);
            playSound('pop');
            
            if(rosesCaught >= 10) {
                document.getElementById('step6-btn').classList.remove('hidden');
            }
        }

        function startConfetti() {
            setInterval(() => {
                spawnEmoji(['ğŸŒ¹','ğŸ’–','âœ¨','ğŸ”¥',' Tulip','ğŸ˜»'][Math.floor(Math.random()*6)]);
            }, 300);
        }

        // Global touch for final step
        window.onclick = (e) => {
            if(currentStep === 10) {
                spawnEmoji('ğŸŒ¹', (e.clientX/window.innerWidth)*100, (e.clientY/window.innerHeight)*100);
                playSound('pop');
            }
        }
    </script>
</body>
</html>

